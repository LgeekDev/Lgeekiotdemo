

# lgeekiotsdk使用说明

## 安装  19.06.275_LgeekBaseIot.apk   
          
          1：通过 adb或者demo里面button    打开活动  startActivity(getApplication(),null,"com.lgeek.iot.service","com.lgeek.iot.service.setting.SettingActivity",null);
          2：通过   激活码  激活该app  （激活码和逻辑科技要）
          

## 集成说明（参考该demo）

  1：在工程根目录 build.gradle 文件 添加 仓库  
    
               maven{
                   url "http://116.62.132.24:8081/nexus/content/repositories/lgmaven/"
               }
            
  2：在module 的 build.gradle 添加依赖  
  
                 implementation  'com.google.code.gson:gson:2.8.5'   
                implementation 'com.lgeek:iot.parse:19.06.131'     版本号可能在变，可及时与逻辑联系
  
  
  3: 在自定义的 MyApp  里面 添加如下代码
  
                /*
                * 参数1 ： 是否开启日志   参数2  是否输出日志到文件， 需要 文件读取权限  ， 参数3  日志保存天数
                * */
                LgeekIotUtils.initLog(true, true, 3);
                /*
                *  参数 2 ，3， 4  可参考上面注释掉代码
                * */
                LgeekSdkMgr.getInstance().init(this, "2", "4001", "机第三方机顶盒");
                // 开启服务
                getApplicationContext().startService(new Intent(this,IotService.class));
                
  4：  编写内部类 （参考IotService.class）
  
         private class MsgHandler extends AbServiceCallBack {
                public MsgHandler() {
                    super();
                }
        
                @Override
                public void onReply(int msgType, String msgId, String msg, int ack) {
                    super.onReply(msgType, msgId, msg, ack);
                }
            }     
            
  5: 添加和移除回调（参考IotService.class，不要重复添加，并且不用的时候及时移除，比如activity关闭时候及时移除回调，否则影响性能）
      
          @Override
          public void onCreate() {
      
              LgeekSdkMgr.getInstance().addListener(mMsgHandler);
      
              super.onCreate();
          }
      
          @Override
          public void onDestroy() {
              super.onDestroy();
              LgeekSdkMgr.getInstance().removeListener(mMsgHandler);
          }
  6：方法说明（参考IotService.class 里面注释）
  
  7：说明： 8.0  动态权限等 请开发者自己集成
  
  8：如果是激活的逻辑iot     集成测试网址：   116.62.153.142:10086/media   账号就是激活的sn ， 密码和逻辑科技要
      
        
### 其他

编写者:冯鑫

邮箱:1638627187@qq.com

日期:2019/06/28